import{_ as D,r as p,a as k,o as i,c as d,b as n,w as o,u as s,i as I,d as f,e as V,t as w,F as O,f as U,g as z,h as E,m as C,j as K,p as R,k as W}from"./index-8a9d1ead.js";const q=v=>(R("data-v-687199bb"),v=v(),W(),v),A={class:"content"},G=q(()=>V("label",null,"正在观看人数（大于）：",-1)),J={key:0},P={key:1},Q=["src"],X=["innerHTML"],Z={key:3},$={key:5},ee={__name:"FreshVideo",setup(v){let h=p([]),b=p([]),_=p(""),c=p(0),y=p(!1),m=p(1),F=[{title:"序号",dataIndex:"no",key:"no",width:60},{title:"视频封面",dataIndex:"pic",key:"pic",width:160},{title:"标题",dataIndex:"title",key:"title",width:160},{title:"作者",dataIndex:"author",key:"author",width:120},{title:"在线观看人数",dataIndex:"online",key:"online",width:120},{title:"评论数",dataIndex:"reply",key:"reply",width:120},{title:"播放量",dataIndex:"play",key:"play",width:90},{title:"点赞数",dataIndex:"like",key:"like",width:90},{title:"发布时间",dataIndex:"pubdate",key:"pubdate",width:90},{title:"操作",dataIndex:"operate",key:"operate",width:180}];const N=async function(){try{const t={key:_.value,pn:m.value,ps:20};y.value=!0;const e=await E(t);if(e.success){const l=e.data.result;h.value=l,x(),b.value=l,y.value=!1}}catch(t){y.value=!1,console.log(t)}},S=function(t,e,l){return t.filter(r=>r[e]>=l)},M=function(){if(isNaN(parseInt(c.value))){C.error("请输入数字");return}h.value=S(b.value,"online",c.value),x()},x=function(){h.value.sort((t,e)=>e.online-t.online)},j=function(t){const e=t.arcurl;K(e).then(()=>{C.success("成功复制视频链接到剪切板")})},B=function(t){const e=t.arcurl;window.open(e)};return(t,e)=>{const l=k("a-input"),r=k("a-button"),g=k("a-row"),H=k("a-table"),L=k("a-spin");return i(),d("div",A,[n(g,{class:"actions-bar",type:"flex",justify:"flex-start"},{default:o(()=>[n(l,{value:s(_),"onUpdate:value":e[0]||(e[0]=a=>I(_)?_.value=a:_=a),class:"key-word",placeholder:"请输入关键词"},null,8,["value"]),n(r,{class:"button",type:"primary",loading:s(y),onClick:N},{default:o(()=>[f(" 查询 ")]),_:1},8,["loading"])]),_:1}),n(g,{class:"actions-bar",type:"flex",justify:"flex-start"},{default:o(()=>[G,n(l,{value:s(c),"onUpdate:value":e[1]||(e[1]=a=>I(c)?c.value=a:c=a),class:"key-word",placeholder:"请输入数量"},null,8,["value"]),n(r,{class:"button",type:"primary",onClick:M},{default:o(()=>[f(" 过滤 ")]),_:1})]),_:1}),n(L,{spinning:s(y)},{default:o(()=>[n(H,{style:{width:"100%"},columns:s(F),"data-source":s(h),pagination:{total:1e3,current:s(m).value,pageSize:20},rowKey:"id"},{bodyCell:o(({column:a,record:u,index:T})=>[a.key==="operate"?(i(),d("span",J,[n(r,{type:"link",onClick:Y=>j(u)},{default:o(()=>[f("复制链接")]),_:2},1032,["onClick"]),n(r,{type:"link",onClick:Y=>B(u)},{default:o(()=>[f("打开")]),_:2},1032,["onClick"])])):a.key==="pic"?(i(),d("div",P,[V("img",{class:"cover",src:u.pic},null,8,Q)])):a.key==="title"?(i(),d("span",{key:2,innerHTML:u.title},null,8,X)):a.key==="reply"?(i(),d("span",Z,w(u.stat.reply),1)):a.key==="pubdate"?(i(),d(O,{key:4},[f(w(s(U)(u.pubdate*1e3).format("YYYY-MM-DD HH:mm:ss")),1)],64)):a.key==="no"?(i(),d("span",$,w(T+1),1)):z("",!0)]),_:1},8,["columns","data-source","pagination"])]),_:1},8,["spinning"])])}}},ae=D(ee,[["__scopeId","data-v-687199bb"]]);export{ae as default};
